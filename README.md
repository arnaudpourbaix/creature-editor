# [Creature Editor for Baldur's Gate](https://github.com/arnaudpourbaix/creature-editor/blob/master/Features.md)

## Architecture
It is split in 4 maven submodules.

### Core
- contains business entities, repositories, and database scripts.
- uses Hibernate 4 and Liquibase with a HSQLDB database. Entities are generated by Hibernate Tools.
- repositories are based on Spring-Data-Jpa

### Front
- is based on an excellent [spring-mvc-archetype](https://github.com/kolorobot/spring-mvc-quickstart-archetype) and deployed on a Tomcat server.
- contains web project configuration and controllers.

### Web
- contains hmtl, css, javascript, and images.
- is based on [ngBoilerPlate](https://github.com/joshdmiller/ng-boilerplate). I have changed a few things to make it perfect for my needs.
- uses [Grunt](http://gruntjs.com/) to automate everything. 
- uses a REST architecture and thus, all client-server messages are in json format.
- is entirely piloted by [Angular](http://angularjs.org/) and uses [jQWidgets](http://www.jqwidgets.com/) for UI components.

### Script Batch
- batch program to generate creature's scripts.

## Prerequisites
* Must have [node.js (at least v0.8.x)](http://nodejs.org/) installed with npm (Node Package Manager)
* Must have [Grunt](https://github.com/gruntjs/grunt) node package installed globally.  `npm install -g grunt-cli`
* Must have [Bower](https://github.com/twitter/bower) node package installed globally.  `npm install -g bower`

## Install

### IDE
1. [Eclipse IDE for Java EE Developers](http://www.eclipse.org/downloads/packages/eclipse-ide-java-ee-developers/keplerr).
2. [Plugin EasyShell](http://pluginbox.sourceforge.net). Handfull for calling grunt tasks.
3. Add Java 1.7 SDK (Preferences / Installed JREs)
4. Add Tomcat 7.0.20+ (Preferences / Runtime Environment)
5. Setup a Tomcat server on port 8090

### Parent Project
1. Open Git Repository Exploring
2. Clone a Git Repository and add the clone to this view. 
3. Clone https://github.com/arnaudpourbaix/creature-editor.git and check "import project"
4. Maven Update projects on all projects

### Core project
1. Configure database access in `hibernate.cfg.xml`, `persistence.properties` and `pom.xml`
2. Create and run a maven configuration to create database: `liquibase:update`

### Front project
1. Change context root to `editor` in front project (Properties, Web Project Settings, Context root)
2. Configure database access in `persistence.properties`
3. Add front project to Tomcat server

### Web project
1. Project Properties, JavaScript, Include Path, Source, included, Edit, Add `src/app`
2. Open a shell command in project root directory   
3. `npm install`
4. `bower install`

### Run it
1. Start Tomcat server
2. Open a shell command in webapp project root directory 
3. `grunt server`
